<!DOCTYPE html><html><head><meta charset="utf-8"><title>Conjur Community Edition API</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><style>@import url('https://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata|Raleway:200');.hljs-comment,.hljs-title{color:#8e908c}.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo{color:#c82829}.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant{color:#f5871f}.ruby .hljs-class .hljs-title,.css .hljs-rules .hljs-attribute{color:#eab700}.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.ruby .hljs-symbol,.xml .hljs-cdata{color:#718c00}.css .hljs-hexcolor{color:#3e999f}.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title{color:#4271ae}.hljs-keyword,.javascript .hljs-function{color:#8959a8}.hljs{display:block;background:white;color:#4d4d4c;padding:.5em}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata{opacity:.5}.right .hljs-comment{color:#969896}.right .css .hljs-class,.right .css .hljs-id,.right .css .hljs-pseudo,.right .hljs-attribute,.right .hljs-regexp,.right .hljs-tag,.right .hljs-variable,.right .html .hljs-doctype,.right .ruby .hljs-constant,.right .xml .hljs-doctype,.right .xml .hljs-pi,.right .xml .hljs-tag .hljs-title{color:#c66}.right .hljs-built_in,.right .hljs-constant,.right .hljs-literal,.right .hljs-number,.right .hljs-params,.right .hljs-pragma,.right .hljs-preprocessor{color:#de935f}.right .css .hljs-rule .hljs-attribute,.right .ruby .hljs-class .hljs-title{color:#f0c674}.right .hljs-header,.right .hljs-inheritance,.right .hljs-name,.right .hljs-string,.right .hljs-value,.right .ruby .hljs-symbol,.right .xml .hljs-cdata{color:#b5bd68}.right .css .hljs-hexcolor,.right .hljs-title{color:#8abeb7}.right .coffeescript .hljs-title,.right .hljs-function,.right .javascript .hljs-title,.right .perl .hljs-sub,.right .python .hljs-decorator,.right .python .hljs-title,.right .ruby .hljs-function .hljs-title,.right .ruby .hljs-title .hljs-keyword{color:#81a2be}.right .hljs-keyword,.right .javascript .hljs-function{color:#b294bb}.right .hljs{display:block;overflow-x:auto;background:#1d1f21;color:#c5c8c6;padding:.5em;-webkit-text-size-adjust:none}.right .coffeescript .javascript,.right .javascript .xml,.right .tex .hljs-formula,.right .xml .css,.right .xml .hljs-cdata,.right .xml .javascript,.right .xml .vbscript{opacity:.5}body{color:black;background:white;font:400 14px / 1.42 'Roboto',Helvetica,sans-serif}header{border-bottom:1px solid #f2f2f2;margin-bottom:12px}h1,h2,h3,h4,h5{color:black;margin:12px 0}h1 .permalink,h2 .permalink,h3 .permalink,h4 .permalink,h5 .permalink{margin-left:0;opacity:0;transition:opacity .25s ease}h1:hover .permalink,h2:hover .permalink,h3:hover .permalink,h4:hover .permalink,h5:hover .permalink{opacity:1}.triple h1 .permalink,.triple h2 .permalink,.triple h3 .permalink,.triple h4 .permalink,.triple h5 .permalink{opacity:.15}.triple h1:hover .permalink,.triple h2:hover .permalink,.triple h3:hover .permalink,.triple h4:hover .permalink,.triple h5:hover .permalink{opacity:.15}h1{font:200 36px 'Raleway',Helvetica,sans-serif;font-size:36px}h2{font:200 36px 'Raleway',Helvetica,sans-serif;font-size:30px}h3{font-size:100%;text-transform:uppercase}h5{font-size:100%;font-weight:normal}p{margin:0 0 10px}p.choices{line-height:1.6}a{color:#428bca;text-decoration:none}li p{margin:0}hr.split{border:0;height:1px;width:100%;padding-left:6px;margin:12px auto;background-image:linear-gradient(to right, rgba(0,0,0,0) 20%, rgba(0,0,0,0.2) 51.4%, rgba(255,255,255,0.2) 51.4%, rgba(255,255,255,0) 80%)}dl dt{float:left;width:130px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd{margin-left:150px}blockquote{color:rgba(0,0,0,0.5);font-size:15.5px;padding:10px 20px;margin:12px 0;border-left:5px solid #e8e8e8}blockquote p:last-child{margin-bottom:0}pre{background-color:#f5f5f5;padding:12px;border:1px solid #cfcfcf;border-radius:6px;overflow:auto}pre code{color:black;background-color:transparent;padding:0;border:none}code{color:#444;background-color:#f5f5f5;font:'Inconsolata',monospace;padding:1px 4px;border:1px solid #cfcfcf;border-radius:3px}ul,ol{padding-left:2em}table{border-collapse:collapse;border-spacing:0;margin-bottom:12px}table tr:nth-child(2n){background-color:#fafafa}table th,table td{padding:6px 12px;border:1px solid #e6e6e6}.text-muted{opacity:.5}.note,.warning{padding:.3em 1em;margin:1em 0;border-radius:2px;font-size:90%}.note h1,.warning h1,.note h2,.warning h2,.note h3,.warning h3,.note h4,.warning h4,.note h5,.warning h5,.note h6,.warning h6{font-family:200 36px 'Raleway',Helvetica,sans-serif;font-size:135%;font-weight:500}.note p,.warning p{margin:.5em 0}.note{color:black;background-color:#f0f6fb;border-left:4px solid #428bca}.note h1,.note h2,.note h3,.note h4,.note h5,.note h6{color:#428bca}.warning{color:black;background-color:#fbf1f0;border-left:4px solid #c9302c}.warning h1,.warning h2,.warning h3,.warning h4,.warning h5,.warning h6{color:#c9302c}header{margin-top:24px}nav{position:fixed;top:24px;bottom:0;overflow-y:auto}nav .resource-group{padding:0}nav .resource-group .heading{position:relative}nav .resource-group .heading .chevron{position:absolute;top:12px;right:12px;opacity:.5}nav .resource-group .heading a{display:block;color:black;opacity:.7;border-left:2px solid transparent;margin:0}nav .resource-group .heading a:hover{text-decoration:none;background-color:bad-color;border-left:2px solid black}nav ul{list-style-type:none;padding-left:0}nav ul a{display:block;font-size:13px;color:rgba(0,0,0,0.7);padding:8px 12px;border-top:1px solid #d9d9d9;border-left:2px solid transparent;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}nav ul a:hover{text-decoration:none;background-color:bad-color;border-left:2px solid black}nav ul>li{margin:0}nav ul>li:first-child{margin-top:-12px}nav ul>li:last-child{margin-bottom:-12px}nav ul ul a{padding-left:24px}nav ul ul li{margin:0}nav ul ul li:first-child{margin-top:0}nav ul ul li:last-child{margin-bottom:0}nav>div>div>ul>li:first-child>a{border-top:none}.preload *{transition:none !important}.pull-left{float:left}.pull-right{float:right}.badge{display:inline-block;float:right;min-width:10px;min-height:14px;padding:3px 7px;font-size:12px;color:#000;background-color:#f2f2f2;border-radius:10px;margin:-2px 0}.badge.get{color:#70bbe1;background-color:#d9edf7}.badge.head{color:#70bbe1;background-color:#d9edf7}.badge.options{color:#70bbe1;background-color:#d9edf7}.badge.put{color:#f0db70;background-color:#fcf8e3}.badge.patch{color:#f0db70;background-color:#fcf8e3}.badge.post{color:#93cd7c;background-color:#dff0d8}.badge.delete{color:#ce8383;background-color:#f2dede}.collapse-button{float:right}.collapse-button .close{display:none;color:#428bca;cursor:pointer}.collapse-button .open{color:#428bca;cursor:pointer}.collapse-button.show .close{display:inline}.collapse-button.show .open{display:none}.collapse-content{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}nav{width:220px}.container{max-width:940px;margin-left:auto;margin-right:auto}.container .row .content{margin-left:244px;width:696px}.container .row:after{content:'';display:block;clear:both}.container-fluid nav{width:22%}.container-fluid .row .content{margin-left:24%}.container-fluid.triple nav{width:16.5%;padding-right:1px}.container-fluid.triple .row .content{position:relative;margin-left:16.5%;padding-left:24px}.middle:before,.middle:after{content:'';display:table}.middle:after{clear:both}.middle{box-sizing:border-box;width:51.5%;padding-right:12px}.right{box-sizing:border-box;float:right;width:48.5%;padding-left:12px}.right a{color:#428bca}.right h1,.right h2,.right h3,.right h4,.right h5,.right p,.right div{color:white}.right pre{background-color:#1d1f21;border:1px solid #1d1f21}.right pre code{color:#c5c8c6}.right .description{margin-top:12px}.triple .resource-heading{font-size:125%}.definition{margin-top:12px;margin-bottom:12px}.definition .method{font-weight:bold}.definition .method.get{color:#2e8ab8}.definition .method.head{color:#2e8ab8}.definition .method.options{color:#2e8ab8}.definition .method.post{color:#56b82e}.definition .method.put{color:#b8a22e}.definition .method.patch{color:#b8a22e}.definition .method.delete{color:#b82e2e}.definition .uri{word-break:break-all;word-wrap:break-word}.definition .hostname{opacity:.5}.example-names{background-color:#eee;padding:12px;border-radius:6px}.example-names .tab-button{cursor:pointer;color:black;border:1px solid #ddd;padding:6px;margin-left:12px}.example-names .tab-button.active{background-color:#d5d5d5}.right .example-names{background-color:#444}.right .example-names .tab-button{color:white;border:1px solid #666;border-radius:6px}.right .example-names .tab-button.active{background-color:#5e5e5e}#nav-background{position:fixed;left:0;top:0;bottom:0;width:16.5%;padding-right:14.4px;background-color:#fbfbfb;border-right:1px solid #f0f0f0;z-index:-1}#right-panel-background{position:absolute;right:-12px;top:-12px;bottom:-12px;width:48.6%;background-color:#333;z-index:-1}@media (max-width:1200px){nav{width:198px}.container{max-width:840px}.container .row .content{margin-left:224px;width:606px}}@media (max-width:992px){nav{width:169.4px}.container{max-width:720px}.container .row .content{margin-left:194px;width:526px}}@media (max-width:768px){nav{display:none}.container{width:95%;max-width:none}.container .row .content,.container-fluid .row .content,.container-fluid.triple .row .content{margin-left:auto;margin-right:auto;width:95%}#nav-background{display:none}#right-panel-background{width:48.6%}}.back-to-top{position:fixed;z-index:1;bottom:0;right:24px;padding:4px 8px;color:rgba(0,0,0,0.5);background-color:#f2f2f2;text-decoration:none !important;border-top:1px solid #d9d9d9;border-left:1px solid #d9d9d9;border-right:1px solid #d9d9d9;border-top-left-radius:3px;border-top-right-radius:3px}.resource-group{padding:12px;margin-bottom:12px;background-color:white;border:1px solid #d9d9d9;border-radius:6px}.resource-group h2.group-heading,.resource-group .heading a{padding:12px;margin:-12px -12px 12px -12px;background-color:#f2f2f2;border-bottom:1px solid #d9d9d9;border-top-left-radius:6px;border-top-right-radius:6px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.triple .content .resource-group{padding:0;border:none}.triple .content .resource-group h2.group-heading,.triple .content .resource-group .heading a{margin:0 0 12px 0;border:1px solid #d9d9d9}nav .resource-group .heading a{padding:12px;margin-bottom:0}nav .resource-group .collapse-content{padding:0}.action{margin-bottom:12px;padding:12px 12px 0 12px;overflow:hidden;border:1px solid transparent;border-radius:6px}.action h4.action-heading{padding:6px 12px;margin:-12px -12px 12px -12px;border-bottom:1px solid transparent;border-top-left-radius:6px;border-top-right-radius:6px;overflow:hidden}.action h4.action-heading .name{float:right;font-weight:normal;padding:6px 0}.action h4.action-heading .method{padding:6px 12px;margin-right:12px;border-radius:3px;display:inline-block}.action h4.action-heading .method.get{color:#fff;background-color:#337ab7}.action h4.action-heading .method.head{color:#fff;background-color:#337ab7}.action h4.action-heading .method.options{color:#fff;background-color:#337ab7}.action h4.action-heading .method.put{color:#fff;background-color:#ed9c28}.action h4.action-heading .method.patch{color:#fff;background-color:#ed9c28}.action h4.action-heading .method.post{color:#fff;background-color:#5cb85c}.action h4.action-heading .method.delete{color:#fff;background-color:#d9534f}.action h4.action-heading code{color:#444;background-color:#f5f5f5;border-color:#cfcfcf;font-weight:normal;word-break:break-all;display:inline-block;margin-top:2px}.action dl.inner{padding-bottom:2px}.action .title{border-bottom:1px solid white;margin:0 -12px -1px -12px;padding:12px}.action.get{border-color:#bce8f1}.action.get h4.action-heading{color:#337ab7;background:#d9edf7;border-bottom-color:#bce8f1}.action.head{border-color:#bce8f1}.action.head h4.action-heading{color:#337ab7;background:#d9edf7;border-bottom-color:#bce8f1}.action.options{border-color:#bce8f1}.action.options h4.action-heading{color:#337ab7;background:#d9edf7;border-bottom-color:#bce8f1}.action.post{border-color:#d6e9c6}.action.post h4.action-heading{color:#5cb85c;background:#dff0d8;border-bottom-color:#d6e9c6}.action.put{border-color:#faebcc}.action.put h4.action-heading{color:#ed9c28;background:#fcf8e3;border-bottom-color:#faebcc}.action.patch{border-color:#faebcc}.action.patch h4.action-heading{color:#ed9c28;background:#fcf8e3;border-bottom-color:#faebcc}.action.delete{border-color:#ebccd1}.action.delete h4.action-heading{color:#d9534f;background:#f2dede;border-bottom-color:#ebccd1}</style></head><body class="preload"><a href="#top" class="text-muted back-to-top"><i class="fa fa-toggle-up"></i>&nbsp;Back to top</a><div class="container"><div class="row"><nav><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#user-authentication">User Authentication</a></div><div class="collapse-content"><ul><li><a href="#header-ssl-verification">SSL verification</a></li><li><a href="#user-authentication-authenticate-post"><span class="badge post"><i class="fa fa-plus"></i></span>Exchange a user login and API key for an access token</a></li><li><a href="#user-authentication-login-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Exchange a user login and password for an API key</a></li><li><a href="#user-authentication-update-password-put"><span class="badge put"><i class="fa fa-pencil"></i></span>Change your password</a></li><li><a href="#user-authentication-rotate-api-key">Rotate API Key</a><ul><li><a href="#user-authentication-rotate-api-key-put"><span class="badge put"><i class="fa fa-pencil"></i></span>Rotate your own API key</a></li><li><a href="#user-authentication-rotate-api-key-put-1"><span class="badge put"><i class="fa fa-pencil"></i></span>Rotate another user's API key</a></li></ul></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#secrets">Secrets</a></div><div class="collapse-content"><ul><li><a href="#secrets-create-secret-post"><span class="badge post"><i class="fa fa-plus"></i></span>Create Secret</a></li><li><a href="#secrets-show-secret-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Show Secret</a></li><li><a href="#secrets-batch-secret-retrieval-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Batch Secret Retrieval</a></li></ul></div></div></nav><div class="content"><header><h1 id="top">Conjur Community Edition API</h1></header><p>This is official documentation of the Conjur Community Edition API. It
allows you tremendous flexibility to control and manipulate your
Conjur software.</p>
<section id="user-authentication" class="resource-group"><h2 class="group-heading">User Authentication <a href="#user-authentication" class="permalink">&para;</a></h2><p>Most API calls require an authentication access token. To obtain an access token as a user:</p>
<ol>
<li>
<p>Use a username and password to obtain an API key (refresh token) with the <a href="#user-authentication-login">Authentication &gt; Login</a> route.</p>
</li>
<li>
<p>Use the API key to obtain an access token with the <a href="#user-authentication-authenticate">Authentication &gt; Authenticate</a> route.</p>
</li>
</ol>
<p>Access tokens expire after 8 minutes. You need to obtain a new token after it expires.
Token expiration and renewal is handled automatically by the
Conjur <a href="https://developer.conjur.net/cli">CLI</a> and <a href="https://developer.conjur.net/clients">client libraries</a>.</p>
<h2 id="header-ssl-verification">SSL verification <a class="permalink" href="#header-ssl-verification" aria-hidden="true">¶</a></h2>
<p>Use the public key you obtained when running <code>conjur init</code> for SSL verification when talking to your Conjur endpoint.
This is a <em>public</em> key, so you can check it into source control if needed.</p>
<p>For example, with curl:</p>
<pre><code>$ curl <span class="hljs-comment">--cacert &lt;certfile&gt; ...</span></code></pre>
<div id="user-authentication-authenticate" class="resource"><h3 class="resource-heading">Authenticate <a href="#user-authentication-authenticate" class="permalink">&nbsp;&para;</a></h3><div id="user-authentication-authenticate-post" class="action post"><h4 class="action-heading"><div class="name">Exchange a user login and API key for an access token</div><a href="#user-authentication-authenticate-post" class="method post">POST</a><code class="uri">/api/authn/users/{login}/authenticate</code></h4><p>Conjur authentication is based on auto-expiring access tokens, which are issued by Conjur when presented with both:</p>
<ul>
<li>
<p>A login name</p>
</li>
<li>
<p>A corresponding password or API key (aka ‘refresh token’)</p>
</li>
</ul>
<p>The Conjur Access Token provides authentication for API calls.</p>
<p>For API usage, it is ordinarily passed as an HTTP Authorization “Token” header.</p>
<pre><code>Authorization: <span class="hljs-keyword">Token</span> <span class="hljs-keyword">token</span>=<span class="hljs-string">"eyJkYX...Rhb="</span></code></pre>
<p>Before the access token can be used to make subsequent calls to the API, it must be formatted.
Take the response from the this call and base64-encode it, stripping out newlines.</p>
<pre><code>token=$(echo -n <span class="hljs-variable">$response</span> | base64 | tr -d <span class="hljs-string">'\r\n'</span>)</code></pre>
<p>The access token can now be used for Conjur API access.</p>
<pre><code>curl --cacert &lt;certfile&gt; \
-H <span class="hljs-string">"Authorization: Token token=\"</span><span class="hljs-variable">$token</span>\<span class="hljs-string">""</span> \
&lt;route&gt;</code></pre>
<p>NOTE: If you have the Conjur CLI installed you can get a pre-formatted access token with:</p>
<pre><code><span class="hljs-title">conjur</span> authn authenticate -H</code></pre>
<p>Properties of the access token include:</p>
<ul>
<li>
<p>It is JSON.</p>
</li>
<li>
<p>It carries the login name and other data in a payload.</p>
</li>
<li>
<p>It is signed by a private authentication key, and verified by a corresponding public key.</p>
</li>
<li>
<p>It carries the signature of the public key for easy lookup in a public key database.</p>
</li>
<li>
<p>It has a fixed life span of several minutes, after which it is no longer valid.</p>
</li>
</ul>
<hr>
<p><strong>Request Body</strong></p>
<table>
<thead>
<tr>
<th>Description</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Conjur API key</td>
<td>yes</td>
<td><code>String</code></td>
<td>“14m9cf91wfsesv1kkhevg12cdywm2wvqy6s8sk53z1ngtazp1t9tykc”</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>The response body is the raw data needed to create an access token</td>
</tr>
<tr>
<td>401</td>
<td>The credentials were not accepted</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/api/authn/users/<span class="hljs-attribute" title="login">latoya</span>/authenticate</span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>login</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>latoya</span></span><p>login name for the user/host. For hosts this is <code>host/&lt;hostid&gt;</code></p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/plain</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>14m9cf91wfsesv1kkhevg12cdywm2wvqy6s8sk53z1ngtazp1t9tykc</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">data</span>": <span class="hljs-value"><span class="hljs-string">"latoya"</span></span>,
  "<span class="hljs-attribute">timestamp</span>": <span class="hljs-value"><span class="hljs-string">"2017-04-24 20:31:50 UTC"</span></span>,
  "<span class="hljs-attribute">signature</span>": <span class="hljs-value"><span class="hljs-string">"BpR0FEbQL8TpvpIjJ1awYr8uklvPecmXt-EpIIPcHpdAKBjoyrBQDZv8he1z7vKtF54H3webS0imvL0-UrHOE5yp_KB0fQdeF_z-oPYmaTywTcbwgsHNGzTkomcEUO49zeCmPdJN_zy_umiLqFJMBWfyFGMGj8lcJxcKTDMaXqJq5jK4e2-u1P0pG_AVnat9xtabL2_S7eySE1_2eK0SC7FHQ-7gY2b0YN7L5pjtHrfBMatg3ofCAgAbFmngTKCrtH389g2mmYXfAMillK1ZrndJ-vTIeDg5K8AGAQ7pz8xM0Cb0rqESWpYMc8ZuaipE5UMbmOym57m0uMuMftIJ_akBQZjb4zB-3IBQE25Sb4nrbFCgH_OyaqOt90Cw4397"</span></span>,
  "<span class="hljs-attribute">key</span>": <span class="hljs-value"><span class="hljs-string">"15ab2712d65e6983cf7107a5350aaac0"</span>
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="user-authentication-login" class="resource"><h3 class="resource-heading">Login <a href="#user-authentication-login" class="permalink">&nbsp;&para;</a></h3><div id="user-authentication-login-get" class="action get"><h4 class="action-heading"><div class="name">Exchange a user login and password for an API key</div><a href="#user-authentication-login-get" class="method get">GET</a><code class="uri">/authn/{account}/login</code></h4><p>Sending your Conjur username and password via HTTP Basic Auth to this route returns
an API key.</p>
<p>Once this API key is obtained, it may be used to rapidly obtain authentication tokens by calling the
<a href="#user-authentication-authenticate">Authenticate</a> route.
An authentication token is required to use most other parts of the Conjur API.</p>
<p>The value for the <code>Authorization</code> Basic Auth header can be obtained with:</p>
<pre><code>$ echo -n alice:secret  <span class="hljs-string">| base64</span>
YWxpY2U6c2VjcmV0</code></pre>
<p>If you log in through the command-line interface, you can print your current
logged-in identity with the <code>conjur authn whoami</code> CLI command.</p>
<p>Passwords are stored in the Conjur database using bcrypt with a work factor of 12.
Therefore, login is a fairly expensive operation.</p>
<hr>
<p><strong>Headers</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>HTTP Basic Auth</td>
<td>Basic YWxpY2U6c2VjcmV0</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>The response body is the API key</td>
</tr>
<tr>
<td>401</td>
<td>The credentials were not accepted</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/authn/<span class="hljs-attribute" title="account">CyberArk</span>/login</span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>account</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>CyberArk</span></span><p>name of the account to use</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic YWxpY2U6c2VjcmV0</span></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/html; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>14m9cf91wfsesv1kkhevg12cdywm2wvqy6s8sk53z1ngtazp1t9tykc</code></pre><div style="height: 1px;"></div></div></div></div></div><div id="user-authentication-update-password" class="resource"><h3 class="resource-heading">Update Password <a href="#user-authentication-update-password" class="permalink">&nbsp;&para;</a></h3><div id="user-authentication-update-password-put" class="action put"><h4 class="action-heading"><div class="name">Change your password</div><a href="#user-authentication-update-password-put" class="method put">PUT</a><code class="uri">/authn/{account}/password</code></h4><p>Change your password with this route.</p>
<p>In order to change your password, you must provide an <code>Authorization</code> header with
HTTP Basic Auth containing your login and current password or API key.
Note that the user whose password is to be updated is determined by
the value of the <code>Authorization</code> header.</p>
<p>In this example, we are updating the password of the user <code>bob</code>.
We set his password as ‘9p8nfsdafbp’ when we created him, so to generate
the HTTP Basic Auth token on the command-line:</p>
<pre><code>$ <span class="hljs-keyword">echo</span> -<span class="hljs-keyword">n</span> <span class="hljs-keyword">bo</span><span class="hljs-variable">b:9p8nfsdafbp</span> | base64
Ym9iOjlwOG5mc2RhZmJw</code></pre>
<p>This operation will also replace the user’s API key with a securely
generated random value. You can fetch the new API key using the <code>login</code> method.</p>
<hr>
<p><strong>Headers</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>Conjur auth token</td>
<td>Token token=“eyJkYX…Rhb=”</td>
</tr>
</tbody>
</table>
<p><strong>Request Body</strong></p>
<p>The new password, in the example “supersecret”.</p>
<p><strong>Response</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>204</td>
<td>The password/UID has been updated</td>
</tr>
<tr>
<td>401</td>
<td>Invalid or missing Authorization header</td>
</tr>
<tr>
<td>404</td>
<td>User not found</td>
</tr>
<tr>
<td>422</td>
<td>New password not present in request body</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method put">PUT</span>&nbsp;<span class="uri"><span class="hostname"></span>/authn/<span class="hljs-attribute" title="account">CyberArk</span>/password</span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>account</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>CyberArk</span></span><p>name of the account to use</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/plain</span><br><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic Ym9iOjlwOG5mc2RhZmJw</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>supersecret</code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>204</code></strong></div></div></div><div id="user-authentication-rotate-api-key" class="resource"><h3 class="resource-heading">Rotate API Key <a href="#user-authentication-rotate-api-key" class="permalink">&nbsp;&para;</a></h3><p>Replaces the API key of an user or host with a new, securely random
API key. The new API key is returned as the response body.</p>
<div id="user-authentication-rotate-api-key-put" class="action put"><h4 class="action-heading"><div class="name">Rotate your own API key</div><a href="#user-authentication-rotate-api-key-put" class="method put">PUT</a><code class="uri">/authn/{account}/api_key</code></h4><p><strong>Permissions required</strong>:</p>
<p>Any authenticated identity can rotate its own API key, providing it’s coming from a valid IP address.
Basic authorization (username plus password or API key) must be provided.</p>
<hr>
<p><strong>Headers</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>HTTP Basic Auth</td>
<td>Basic ZGFuaWVsOjlwOG5mc2RhZmJw</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>The response body is the API key</td>
</tr>
<tr>
<td>401</td>
<td>The Basic auth credentials were not accepted</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method put">PUT</span>&nbsp;<span class="uri"><span class="hostname"></span>/authn/<span class="hljs-attribute" title="account">CyberArk</span>/api_key</span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>account</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>CyberArk</span></span><p>name of the account to use</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Basic ZGFuaWVsOjlwOG5mc2RhZmJw</span></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/html; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>14m9cf91wfsesv1kkhevg12cdywm2wvqy6s8sk53z1ngtazp1t9tykc</code></pre><div style="height: 1px;"></div></div></div></div><div id="user-authentication-rotate-api-key-put-1" class="action put"><h4 class="action-heading"><div class="name">Rotate another user's API key</div><a href="#user-authentication-rotate-api-key-put-1" class="method put">PUT</a><code class="uri">/authn/{account}/api_key{?id}</code></h4><p><strong>Permissions required</strong>: <code>update</code> privilege on the user.</p>
<hr>
<p><strong>Headers</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Authorization</td>
<td>Conjur auth token</td>
<td>Token token=“eyJkYX…Rhb=”</td>
</tr>
</tbody>
</table>
<p><strong>Response</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>The response body is the API key</td>
</tr>
<tr>
<td>401</td>
<td>Not authenticated</td>
</tr>
<tr>
<td>403</td>
<td>Permission denied</td>
</tr>
</tbody>
</table>
<hr>
<h4>Example URI</h4><div class="definition"><span class="method put">PUT</span>&nbsp;<span class="uri"><span class="hostname"></span>/authn/<span class="hljs-attribute" title="account">CyberArk</span>/api_key?<span class="hljs-attribute">id=</span><span class="hljs-literal">bob</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>account</dt><dd><code>string</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>CyberArk</span></span><p>name of the account to use</p>
</dd><dt>id</dt><dd><code>string</code>&nbsp;<span>(optional)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>bob</span></span><p>Id of the user to rotate.</p>
</dd></dl></div><div class="title"><strong>Request</strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Authorization</span>: <span class="hljs-string">Token token="eyJkYX...Rhb="</span></code></pre><div style="height: 1px;"></div></div></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">text/html; charset=utf-8</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>14m9cf91wfsesv1kkhevg12cdywm2wvqy6s8sk53z1ngtazp1t9tykc</code></pre><div style="height: 1px;"></div></div></div></div></div></section><section id="secrets" class="resource-group"><h2 class="group-heading">Secrets <a href="#secrets" class="permalink">&para;</a></h2><div id="secrets-create-secret" class="resource"><h3 class="resource-heading">Create Secret <a href="#secrets-create-secret" class="permalink">&nbsp;&para;</a></h3><div id="secrets-create-secret-post" class="action post"><h4 class="action-heading"><div class="name">Create Secret</div><a href="#secrets-create-secret-post" class="method post">POST</a><code class="uri">/secrets/:account/:kind/:identifier</code></h4><p>Creates a secret value in the specified variable.</p>
<p><strong>Request Body</strong></p>
<table>
<thead>
<tr>
<th>Description</th>
<th>Required</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Secret Value</td>
<td>yes</td>
<td><code>String</code></td>
<td>“3ab2fabadea7e7b68acc893e”</td>
</tr>
</tbody>
</table>
<p><strong>Respones</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>201</td>
<td>The secret values was created successfully</td>
</tr>
<tr>
<td>401</td>
<td>The user is not logged in</td>
</tr>
<tr>
<td>403</td>
<td>The user did not have ‘update’ privilege on the variable</td>
</tr>
<tr>
<td>404</td>
<td>The secret does not exist or does not have a stored value</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/secrets/:account/:kind/:identifier</span></div><div class="title"><strong>Response&nbsp;&nbsp;<code>201</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div></div></div></div></div><div id="secrets-show-secret" class="resource"><h3 class="resource-heading">Show Secret <a href="#secrets-show-secret" class="permalink">&nbsp;&para;</a></h3><div id="secrets-show-secret-get" class="action get"><h4 class="action-heading"><div class="name">Show Secret</div><a href="#secrets-show-secret-get" class="method get">GET</a><code class="uri">/secrets/:account/:kind/:identifier{?version}</code></h4><p>Fetch the value of a secret in the specified variable.</p>
<p><strong>Respones</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>The secret values was retrieved successfully</td>
</tr>
<tr>
<td>401</td>
<td>The user is not logged in</td>
</tr>
<tr>
<td>403</td>
<td>The user did not have ‘execute’ privilege on the secret</td>
</tr>
<tr>
<td>404</td>
<td>The secret does not exist or does not have a stored value</td>
</tr>
<tr>
<td>422</td>
<td>The version</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/secrets/:account/:kind/:identifier?<span class="hljs-attribute">version=</span><span class="hljs-literal">1</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>version</dt><dd><code>integer</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>1</span></span></dd></dl></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div></div></div></div></div><div id="secrets-batch-secret-retrieval" class="resource"><h3 class="resource-heading">Batch Secret Retrieval <a href="#secrets-batch-secret-retrieval" class="permalink">&nbsp;&para;</a></h3><div id="secrets-batch-secret-retrieval-get" class="action get"><h4 class="action-heading"><div class="name">Batch Secret Retrieval</div><a href="#secrets-batch-secret-retrieval-get" class="method get">GET</a><code class="uri">/secrets{?variable_id}</code></h4><p>Fetch the values of a list of variables. This operation is more efficient than
fetching the values one by one.</p>
<p><strong>Response</strong></p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>200</td>
<td>All secret values were retrieved successfully</td>
</tr>
<tr>
<td>401</td>
<td>The user is not logged in</td>
</tr>
<tr>
<td>403</td>
<td>The user did not have ‘execute’ privilege on one or more secrets</td>
</tr>
<tr>
<td>404</td>
<td>One or more secrets do not exist or do not have a stored value</td>
</tr>
<tr>
<td>422</td>
<td>variable_id parameter is missing or invalid</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/secrets?<span class="hljs-attribute">variable_id=</span><span class="hljs-literal">cucumber:variable:secret1,cucumber:variable:secret2</span></span></div><div class="title"><strong>URI Parameters</strong><div class="collapse-button show"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><dl class="inner"><dt>variable_id</dt><dd><code>array</code>&nbsp;<span class="required">(required)</span>&nbsp;<span class="text-muted example"><strong>Example:&nbsp;</strong><span>cucumber:variable:secret1,cucumber:variable:secret2</span></span><p>Resource IDs of the variables containing the secrets you wish to retrieve.</p>
</dd></dl></div><div class="title"><strong>Response&nbsp;&nbsp;<code>200</code></strong><div class="collapse-button"><span class="close">Hide</span><span class="open">Show</span></div></div><div class="collapse-content"><div class="inner"><h5>Headers</h5><pre><code><span class="hljs-attribute">Content-Type</span>: <span class="hljs-string">application/json</span></code></pre><div style="height: 1px;"></div><h5>Body</h5><pre><code>{
  "<span class="hljs-attribute">cucumber:variable:secret1</span>": <span class="hljs-value"><span class="hljs-string">"secret_data"</span></span>,
  "<span class="hljs-attribute">cucumber:variable:secret2</span>": <span class="hljs-value"><span class="hljs-string">"more_secret_data"</span>
</span>}</code></pre><div style="height: 1px;"></div></div></div></div></div></section></div></div></div><p style="text-align: center;" class="text-muted">Generated by&nbsp;<a href="https://github.com/danielgtaylor/aglio" class="aglio">aglio</a>&nbsp;on 25 Jul 2017</p><script>/* eslint-env browser */
/* eslint quotes: [2, "single"] */
'use strict';

/*
  Determine if a string ends with another string.
*/
function endsWith(str, suffix) {
    return str.indexOf(suffix, str.length - suffix.length) !== -1;
}

/*
  Get a list of direct child elements by class name.
*/
function childrenByClass(element, name) {
  var filtered = [];

  for (var i = 0; i < element.children.length; i++) {
    var child = element.children[i];
    var classNames = child.className.split(' ');
    if (classNames.indexOf(name) !== -1) {
      filtered.push(child);
    }
  }

  return filtered;
}

/*
  Get an array [width, height] of the window.
*/
function getWindowDimensions() {
  var w = window,
      d = document,
      e = d.documentElement,
      g = d.body,
      x = w.innerWidth || e.clientWidth || g.clientWidth,
      y = w.innerHeight || e.clientHeight || g.clientHeight;

  return [x, y];
}

/*
  Collapse or show a request/response example.
*/
function toggleCollapseButton(event) {
    var button = event.target.parentNode;
    var content = button.parentNode.nextSibling;
    var inner = content.children[0];

    if (button.className.indexOf('collapse-button') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        // Currently showing, so let's hide it
        button.className = 'collapse-button';
        content.style.maxHeight = '0px';
    } else {
        // Currently hidden, so let's show it
        button.className = 'collapse-button show';
        content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

function toggleTabButton(event) {
    var i, index;
    var button = event.target;

    // Get index of the current button.
    var buttons = childrenByClass(button.parentNode, 'tab-button');
    for (i = 0; i < buttons.length; i++) {
        if (buttons[i] === button) {
            index = i;
            button.className = 'tab-button active';
        } else {
            buttons[i].className = 'tab-button';
        }
    }

    // Hide other tabs and show this one.
    var tabs = childrenByClass(button.parentNode.parentNode, 'tab');
    for (i = 0; i < tabs.length; i++) {
        if (i === index) {
            tabs[i].style.display = 'block';
        } else {
            tabs[i].style.display = 'none';
        }
    }
}

/*
  Collapse or show a navigation menu. It will not be hidden unless it
  is currently selected or `force` has been passed.
*/
function toggleCollapseNav(event, force) {
    var heading = event.target.parentNode;
    var content = heading.nextSibling;
    var inner = content.children[0];

    if (heading.className.indexOf('heading') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
      // Currently showing, so let's hide it, but only if this nav item
      // is already selected. This prevents newly selected items from
      // collapsing in an annoying fashion.
      if (force || window.location.hash && endsWith(event.target.href, window.location.hash)) {
        content.style.maxHeight = '0px';
      }
    } else {
      // Currently hidden, so let's show it
      content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

/*
  Refresh the page after a live update from the server. This only
  works in live preview mode (using the `--server` parameter).
*/
function refresh(body) {
    document.querySelector('body').className = 'preload';
    document.body.innerHTML = body;

    // Re-initialize the page
    init();
    autoCollapse();

    document.querySelector('body').className = '';
}

/*
  Determine which navigation items should be auto-collapsed to show as many
  as possible on the screen, based on the current window height. This also
  collapses them.
*/
function autoCollapse() {
  var windowHeight = getWindowDimensions()[1];
  var itemsHeight = 64; /* Account for some padding */
  var itemsArray = Array.prototype.slice.call(
    document.querySelectorAll('nav .resource-group .heading'));

  // Get the total height of the navigation items
  itemsArray.forEach(function (item) {
    itemsHeight += item.parentNode.offsetHeight;
  });

  // Should we auto-collapse any nav items? Try to find the smallest item
  // that can be collapsed to show all items on the screen. If not possible,
  // then collapse the largest item and do it again. First, sort the items
  // by height from smallest to largest.
  var sortedItems = itemsArray.sort(function (a, b) {
    return a.parentNode.offsetHeight - b.parentNode.offsetHeight;
  });

  while (sortedItems.length && itemsHeight > windowHeight) {
    for (var i = 0; i < sortedItems.length; i++) {
      // Will collapsing this item help?
      var itemHeight = sortedItems[i].nextSibling.offsetHeight;
      if ((itemsHeight - itemHeight <= windowHeight) || i === sortedItems.length - 1) {
        // It will, so let's collapse it, remove its content height from
        // our total and then remove it from our list of candidates
        // that can be collapsed.
        itemsHeight -= itemHeight;
        toggleCollapseNav({target: sortedItems[i].children[0]}, true);
        sortedItems.splice(i, 1);
        break;
      }
    }
  }
}

/*
  Initialize the interactive functionality of the page.
*/
function init() {
    var i, j;

    // Make collapse buttons clickable
    var buttons = document.querySelectorAll('.collapse-button');
    for (i = 0; i < buttons.length; i++) {
        buttons[i].onclick = toggleCollapseButton;

        // Show by default? Then toggle now.
        if (buttons[i].className.indexOf('show') !== -1) {
            toggleCollapseButton({target: buttons[i].children[0]});
        }
    }

    var responseCodes = document.querySelectorAll('.example-names');
    for (i = 0; i < responseCodes.length; i++) {
        var tabButtons = childrenByClass(responseCodes[i], 'tab-button');
        for (j = 0; j < tabButtons.length; j++) {
            tabButtons[j].onclick = toggleTabButton;

            // Show by default?
            if (j === 0) {
                toggleTabButton({target: tabButtons[j]});
            }
        }
    }

    // Make nav items clickable to collapse/expand their content.
    var navItems = document.querySelectorAll('nav .resource-group .heading');
    for (i = 0; i < navItems.length; i++) {
        navItems[i].onclick = toggleCollapseNav;

        // Show all by default
        toggleCollapseNav({target: navItems[i].children[0]});
    }
}

// Initial call to set up buttons
init();

window.onload = function () {
    autoCollapse();
    // Remove the `preload` class to enable animations
    document.querySelector('body').className = '';
};
</script></body></html>